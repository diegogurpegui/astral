"use strict";(globalThis["webpackChunkastral"]=globalThis["webpackChunkastral"]||[]).push([[316],{49316:(t,s,a)=>{a.r(s),a.d(s,{default:()=>v});var e=a(59835),h=a(86970);function n(t,s,a,n,i,r){const d=(0,e.up)("BaseHeader"),o=(0,e.up)("BasePostThread"),u=(0,e.up)("q-page");return(0,e.wg)(),(0,e.j4)(u,null,{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,h.zw)("#"+this.$route.params.hashtagId),1)])),_:1}),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.threads,(s=>((0,e.wg)(),(0,e.j4)(o,{key:s[0].id,events:s,onAddEvent:t.processEvent},null,8,["events","onAddEvent"])))),128))])),_:1})}a(40702);var i=a(34136),r=a(18933),d=a(14473);const o=(0,e.aZ)({name:"Hashtag",mixins:[r.Z],data(){return{threads:[],eventsSet:new Set,sub:{}}},watch:{"$route.params.hashtagId"(t,s){t!==s&&t&&s&&(this.stop(),this.start())}},activated(){this.start()},deactivated(){this.stop()},methods:{async start(){this.threads=[],this.eventsSet=new Set,this.sub.hashtag=await(0,i.dq)("t",this.$route.params.hashtagId.toLowerCase(),1,(t=>{this.processEvent(t)})),this.sub.hashtagOld=await(0,i.dq)("hashtag",this.$route.params.hashtagId.toLowerCase(),1,(t=>{this.processEvent(t)}))},stop(){this.sub.hashtag&&this.sub.hashtag.cancel(),this.sub.oldHashtag&&this.sub.oldHashtag.cancel(),this.threads=[],this.eventsSet=new Set},processEvent(t){this.eventsSet.has(t.id)||(this.interpolateEventMentions(t),this.eventsSet.add(t.id),(0,d.c)(this.threads,t,"",t.pubkey!==this.$store.state.keys.pub))}}});var u=a(11639),l=a(69885),p=a(69984),c=a.n(p);const g=(0,u.Z)(o,[["render",n]]),v=g;c()(o,"components",{QPage:l.Z})}}]);